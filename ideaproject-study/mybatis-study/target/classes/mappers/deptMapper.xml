<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mappers.deptMapper">
    <!-- <select id="getDept" resultType="entity.Dept">
         select *
         from dept
         where id = #{id}
     </select>-->
    <resultMap id="DeptEmployee" type="entity.Dept">
        <id property="id" column="did"/>
        <result property="name" column="dname"/>
        <collection property="employees" ofType="entity.Employee">
            <result property="id" column="eid"/>
            <result property="name" column="ename"/>
        </collection>
    </resultMap>
    <select id="findDeptById" resultMap="DeptEmployee">
        select e.id eid, e.name ename, d.id did, d.name dname
        from dept d
                 left join employee e
                           on d.id = e.did
        where e.id = #{id}
    </select>
    <select id="findAllDept" resultMap="DeptEmployee">
        select e.id eid, e.name ename, d.id did, d.name dname
        from dept d
                 left join employee e
                           on d.id = e.did
    </select>
</mapper>